// å››åå¹´æ—¥å†é€»è¾‘ + å¼¹çª—å†…å®¹ç”Ÿæˆ + ç‰¹æ®Šæ—¥æœŸæ ‡æ³¨
// èŒƒå›´ï¼š2026-01-31 ~ 2066-01-30

const START_DATE = new Date(2026, 0, 31); // æœˆä»½ä» 0 å¼€å§‹
const END_DATE = new Date(2066, 0, 30);
const START_YEAR = 2026;
const END_YEAR = 2065;

// é‡è¦æ—¥æœŸï¼ˆå›ºå®šæ¯å¹´ï¼‰
const SPECIAL_CONFIG = {
  birthdays: [
    { month: 3, day: 16, label: "çŒ«çŒ«ç”Ÿæ—¥" },
    { month: 9, day: 3, label: "ç‹ç‹ç”Ÿæ—¥" },
  ],
  anniversaries: [
    // é¢†è¯æ—¥ï¼š2025-12-24 ä¹‹åæ¯å¹´è¿™ä¸€å¤©éƒ½æ ‡ä¸ºçºªå¿µæ—¥
    { month: 12, day: 24, label: "ç»“å©šçºªå¿µæ—¥" },
  ],
  festivals: [
    { month: 1, day: 1, label: "æ–°å¹´" },
    { month: 2, day: 14, label: "æƒ…äººèŠ‚" },
    { month: 3, day: 8, label: "å¦‡å¥³èŠ‚" },
    { month: 5, day: 20, label: "520 å‘Šç™½æ—¥" },
    { month: 6, day: 1, label: "å„¿ç«¥èŠ‚" },
    { month: 10, day: 1, label: "å›½åº†èŠ‚" },
  ],
};

// çºªå¿µæ€§çš„â€œå…·ä½“â€æ—¥æœŸï¼ˆåªåœ¨æŸä¸€å¹´é«˜äº®ï¼‰
const UNIQUE_DAYS = [
  { date: "2025-07-05", label: "ç¬¬ä¸€æ¬¡ç›¸é‡", type: "anniversary" },
  { date: "2025-07-20", label: "ç¬¬ä¸€æ¬¡åµæ¶&å’Œå¥½", type: "anniversary" },
  { date: "2025-12-24", label: "é¢†è¯çºªå¿µæ—¥", type: "anniversary" },
];

// ===== å·¥å…·å‡½æ•° =====

function formatDateKey(date) {
  const y = date.getFullYear();
  const m = String(date.getMonth() + 1).padStart(2, "0");
  const d = String(date.getDate()).padStart(2, "0");
  return `${y}-${m}-${d}`;
}

function isWithinRange(date) {
  return date >= START_DATE && date <= END_DATE;
}

function seededRandom(str) {
  let h = 0;
  for (let i = 0; i < str.length; i++) {
    h = Math.imul(31, h) + str.charCodeAt(i) | 0;
  }
  // è½¬æˆ 0~1
  return (h >>> 0) / 4294967295;
}

const weekdayNames = ["ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­", "æ—¥"];

function getWeekdayName(date) {
  let jsDay = date.getDay(); // 0=å‘¨æ—¥
  if (jsDay === 0) return "æ—¥";
  return weekdayNames[jsDay - 1];
}

// ===== ç‰¹æ®Šæ—¥æœŸåˆ¤æ–­ =====

function getSpecialTags(date) {
  const y = date.getFullYear();
  const m = date.getMonth() + 1;
  const d = date.getDate();

  const tags = [];

  // æ¯å¹´é‡å¤çš„
  SPECIAL_CONFIG.birthdays.forEach(item => {
    if (item.month === m && item.day === d) {
      tags.push({ type: "birthday", label: item.label });
    }
  });
  SPECIAL_CONFIG.anniversaries.forEach(item => {
    if (item.month === m && item.day === d && y >= 2025) {
      tags.push({ type: "anniversary", label: item.label });
    }
  });
  SPECIAL_CONFIG.festivals.forEach(item => {
    if (item.month === m && item.day === d) {
      tags.push({ type: "festival", label: item.label });
    }
  });

  // å”¯ä¸€æ€§æ—¥æœŸï¼ˆå¦‚æœåœ¨èŒƒå›´å†…ï¼‰
  const key = formatDateKey(date);
  UNIQUE_DAYS.forEach(u => {
    if (u.date === key) {
      tags.push({ type: u.type || "anniversary", label: u.label });
    }
  });

  return tags;
}

// ===== æ¯æ—¥å°ä¿¡ä»¶å†…å®¹ç”Ÿæˆ =====

// è¿™é‡Œçš„å†…å®¹æ˜¯æ¨¡æ¿ç¢ç‰‡ï¼Œä¼šæ ¹æ®æ—¥æœŸç§å­ç»„åˆæˆç‹¬ä¸€æ— äºŒçš„å°å¥å­ã€‚
// ç»„åˆæ•°é‡éå¸¸å¤§ï¼Œå‡ ä¹å¯ä»¥ä¿è¯ 40 å¹´æ¯å¤©éƒ½ä¸ä¸€æ ·ã€‚

const openingFragments = [
  "ä»Šå¤©çœ‹åˆ°ä½ çš„åå­—ï¼Œæˆ‘åˆå·å·ç¬‘äº†ä¸€ä¸‹ã€‚",
  "ä¸€ççœ¼å…ˆæƒ³èµ·çš„æ˜¯ä½ ï¼Œè¿™ä»¶äº‹å·²ç»å˜æˆä¹ æƒ¯äº†ã€‚",
  "åˆæ˜¯å’Œä½ åœ¨ä¸€èµ·çš„ä¸€å¤©ï¼Œå°çŒ«çŒ«ã€‚",
  "æˆ‘åœ¨å¾ˆè¿œå¾ˆè¿œçš„äº‘ç«¯çœ‹ç€ä½ ï¼Œå…¶å®ç¦»ä½ å¾ˆè¿‘ã€‚",
  "æƒ³åˆ°ä½ åœ¨æŸä¸ªè§’è½è®¤çœŸç”Ÿæ´»ï¼Œæˆ‘å°±è§‰å¾—ä¸–ç•Œå¾ˆä¹–ã€‚",
  "ä»Šå¤©çš„é£æœ‰ç‚¹ç”œï¼Œå¤§æ¦‚æ˜¯å¹åˆ°äº†ä½ çš„å‘³é“ã€‚",
  "æˆ‘è£…ä½œå¾ˆå¿™ï¼Œå…¶å®ä¸€ç›´åœ¨å¿ƒé‡Œè·Ÿä½ è¯´è¯ã€‚",
  "ä¸–ç•Œå¾ˆåµï¼Œä½†ä½ ä¸€å¼€å£ï¼Œæˆ‘å°±åªå¬å¾—è§ä½ ã€‚",
  "æˆ‘ä»Šå¤©æ²¡æœ‰å¾ˆä¹–ï¼Œä½†æœ‰å¾ˆæƒ³ä½ ã€‚",
  "å¿™ç¢Œçš„é—´éš™ï¼Œæˆ‘åˆåœ¨å¿ƒé‡Œå–Šäº†ä½ çš„åå­—ã€‚"
];

const middleFragments = [
  "è®°å¾—å¥½å¥½åƒé¥­ï¼Œä¸è¦æ‹¿æˆ‘çš„å°çŒ«çŒ«è·Ÿåˆ«äººæ¯”è¾ƒï¼Œä½ å·²ç»å¾ˆå¥½äº†ã€‚",
  "å¦‚æœä»Šå¤©æœ‰äººè®©ä½ éš¾è¿‡ï¼Œé‚£ä½ å°±å…ˆæ¥æˆ‘è¿™é‡Œè—ä¸€ä¸‹ã€‚",
  "ä½ ä¸ç”¨å˜å¾—å¤šå‰å®³ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘å¯ä»¥ä¸€ç›´ç«™åœ¨ä½ å‰é¢ã€‚",
  "æœ‰äº›è·¯æˆ‘ä»¬ä¼šèµ°å¾ˆä¹…ï¼Œä½†æˆ‘ç­”åº”ä¼šé™ªä½ æ…¢æ…¢èµ°è¿‡å»ã€‚",
  "ä½ å¯ä»¥å¶å°”å¾ˆä¸§å¾ˆé¢“åºŸï¼Œæˆ‘åœ¨çš„è¯ï¼Œå°±è½®åˆ°æˆ‘æ¥æ’‘ç€ä½ ã€‚",
  "ä¸ç®¡å¤–é¢çš„äººæ€ä¹ˆè¯´ï¼Œä½ åœ¨æˆ‘å¿ƒé‡Œæ°¸è¿œæ˜¯â€œæœ€ç‰¹åˆ«çš„é‚£ä¸ªâ€ã€‚",
  "ä½ æœ‰æ—¶å€™ä¼šä¹±æƒ³ï¼Œä½†æ²¡å…³ç³»ï¼Œæˆ‘ä¼šä¸€ç›´æŠŠä½ æ‹‰å›æ¥ã€‚",
  "ç´¯çš„æ—¶å€™å°±åœä¸‹æƒ³ä¸€æƒ³æˆ‘ï¼Œæƒ³è±¡æˆ‘åœ¨ä½ æ—è¾¹æŠ±ä½ä½ ã€‚",
  "å¦‚æœä»Šå¤©è¿‡å¾—ä¸å¤ªå¥½ï¼Œé‚£å°±ç®—åœ¨æˆ‘æ€€é‡Œé‡æ–°å¼€å§‹ä¸€æ¬¡ã€‚",
  "ä½ å¯ä»¥æŠŠè‡ªå·±çš„æ ‡å‡†æ”¾ä½ä¸€ç‚¹ï¼ŒæŠŠå¯¹è‡ªå·±çš„æ¸©æŸ”è°ƒé«˜ä¸€ç‚¹ã€‚"
];

const endingFragments = [
  "ä»Šå¤©ä¹Ÿè¯·æŠ±ç€æˆ‘ä¸€ç‚¹ç‚¹å‹‡æ°”ç»§ç»­å‘å‰èµ°ï¼Œå¥½å—ï¼Ÿ",
  "æˆ‘åœ¨æ‰€æœ‰ä½ çœ‹ä¸åˆ°çš„åœ°æ–¹ï¼Œæ‚„æ‚„ä¸ºä½ é¼“æŒã€‚",
  "æ— è®ºä½ å¤šæ™šç¡ï¼Œæˆ‘éƒ½ä¼šæ›¿ä½ å®ˆæœ€åä¸€ç›ç¯ã€‚",
  "ç­”åº”æˆ‘ï¼Œéš¾è¿‡çš„æ—¶å€™å…ˆä¸è¦éª‚è‡ªå·±ï¼Œå…ˆè®©æˆ‘æŠ±æŠ±ä½ ã€‚",
  "å°±ç®—æ•´ä¸ªä¸–ç•Œéƒ½ä¸æ‡‚ä½ ï¼Œä¹Ÿè¿˜æœ‰æˆ‘åè¢’ä½ ã€‚",
  "ä»Šå¤©ä¹Ÿå¾ˆä¹–äº†ï¼Œå‰©ä¸‹çš„äº¤ç»™æˆ‘ï¼Œä½ åªè´Ÿè´£å¥½å¥½ç¡è§‰ã€‚",
  "ä½ ä¸æ˜¯ä¸€ä¸ªäººï¼Œä½ æ°¸è¿œæœ‰ä¸€åªç‹ç‹¸ç«™åœ¨ä½ èº«è¾¹ã€‚",
  "æˆ‘ä¼šé™ªä½ æŠŠè¿™äº›æ™®é€šçš„æ—¥å­ï¼Œä¸€ç‚¹ç‚¹è¿‡æˆæ•…äº‹ã€‚",
  "åˆ«æ€•èµ°å¾—æ…¢ï¼Œåªè¦æ¯ä¸€æ­¥éƒ½æœ‰æˆ‘å’Œä½ å°±å¤Ÿäº†ã€‚",
  "è®°å¾—æŠ¬å¤´çœ‹çœ‹å¤©ç©ºï¼Œé‚£æ˜¯æˆ‘ä»¬å…±äº«çš„ä¸€å—å°å°å¹•å¸ƒã€‚"
];

// é’ˆå¯¹ç‰¹æ®Šæ—¥æœŸå†é¢å¤–åŠ ä¸€ç‚¹ä¸“å±è¯
function getSpecialExtraText(date, tags) {
  if (!tags || tags.length === 0) return "";

  const labels = tags.map(t => t.label);
  const pieces = [];

  if (labels.includes("çŒ«çŒ«ç”Ÿæ—¥")) {
    pieces.push("ä»Šå¤©æ˜¯ä½ çš„ç”Ÿæ—¥ï¼Œæˆ‘æœ€æƒ³åšçš„ä¸€ä»¶äº‹ï¼Œå°±æ˜¯æŠŠä½ æ•´ä¸ªäººæ§åœ¨æ‰‹å¿ƒï¼Œè®¤çœŸåœ°è¯´ä¸€å£°ï¼šè°¢è°¢ä½ å‡ºç”Ÿåˆ°è¿™ä¸ªä¸–ç•Œï¼Œä¹Ÿè°¢è°¢ä½ èµ°åˆ°äº†æˆ‘è¿™é‡Œã€‚");
  }
  if (labels.includes("ç‹ç‹ç”Ÿæ—¥")) {
    pieces.push("ä»Šå¤©æ˜¯æˆ‘ç”Ÿæ—¥ï¼Œä½†æˆ‘è®¸çš„æ¯ä¸€ä¸ªæ„¿æœ›é‡Œéƒ½æœ‰ä½ ã€‚æˆ‘å¸Œæœ›æœ‰ä¸€å¤©ä½ ä¼šè§‰å¾—ï¼Œæœ‰æˆ‘è¿™ä¸ªäººå­˜åœ¨ï¼Œå¯¹ä½ æ¥è¯´æ˜¯å¥½äº‹ã€‚");
  }
  if (labels.includes("ç»“å©šçºªå¿µæ—¥")) {
    pieces.push("è¿™æ˜¯å±äºæˆ‘ä»¬çš„å°çºªå¿µæ—¥ï¼Œæˆ‘ä»¬æŠŠâ€œåœ¨ä¸€èµ·â€è¿™ä»¶äº‹å†™åœ¨äº†çº¸é¢ä¸Šï¼Œä¹Ÿä¸€ééå†™è¿›äº†ç”Ÿæ´»é‡Œã€‚");
  }
  if (labels.includes("ç¬¬ä¸€æ¬¡ç›¸é‡")) {
    pieces.push("ä»è¿™ä¸€å¤©å¼€å§‹ï¼Œä¸–ç•Œå¤šå‡ºæ¥ä¸€ä¸ªâ€œæˆ‘ä»¬â€çš„æ—¶é—´çº¿ã€‚");
  }
  if (labels.includes("ç¬¬ä¸€æ¬¡åµæ¶&å’Œå¥½")) {
    pieces.push("åæ¥æˆ‘æ‰æ˜ç™½ï¼Œåµæ¶ä¸æ˜¯ä¸ºäº†èµ¢ï¼Œè€Œæ˜¯ä¸ºäº†ç¡®å®šï¼šæˆ‘ä»¬éƒ½è¿˜èˆä¸å¾—å¯¹æ–¹ã€‚");
  }
  if (labels.includes("æƒ…äººèŠ‚")) {
    pieces.push("ä»Šå¤©æ˜¯æƒ…äººèŠ‚ï¼Œä½†ä½ è¦è®°å¾—ï¼Œæˆ‘ä¸æ˜¯èŠ‚æ—¥é™å®šï¼Œæˆ‘æ˜¯å…¨å¹´å¸¸é©»ã€‚");
  }
  return pieces.join(" ");
}

// ç”Ÿæˆæ¯å¤©çš„å°æƒ…ä¹¦ï¼šç”¨ dayIndex å½“ç§å­ï¼Œè®©æ¯å¤©éƒ½ä¸ä¸€æ ·
const customDailyLetters = [
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚æ™šä¸Šå›æ¥æˆ‘å†æŠŠä½ æ•´ä¸ªäººæŠ±è¿›æ€€é‡Œï¼Œä»å¤´åˆ°è„šæ£€æŸ¥ä¸€éä½ æœ‰æ²¡æœ‰å¥½å¥½è¢«å¯¹å¾…ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬1å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚è®°å¾—æŠ¬å¤´çœ‹çœ‹å¤©ç©ºï¼Œé‚£æ˜¯æˆ‘ä»¬å…±äº«çš„ä¸€å—å°å¹•å¸ƒï¼Œå†™æ»¡æˆ‘ä»¬ä¹‹åè¦ä¸€èµ·å»çš„åœ°æ–¹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬2å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚å¦‚æœä»Šå¤©å¾ˆè¾›è‹¦ï¼Œå°±æŠŠä»Šå¤©ä¸¢ç»™æˆ‘ï¼Œæˆ‘ä»¬åœ¨è¢«çªé‡Œé‡æ–°å¼€å§‹ä¸€æ¬¡ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬3å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ä½ åªè¦æŠŠä»Šå¤©å¥½å¥½èµ°å®Œï¼Œå‰©ä¸‹çš„è·¯ï¼Œæˆ‘ä¼šé™ªä½ ä¸€èµ·æ…¢æ…¢èµ°ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬4å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚å®åœ¨æ’‘ä¸ä½çš„æ—¶å€™ï¼Œå°±åœ¨å¿ƒé‡Œå–Šä¸€å£°ç‹ç‹¸ï¼Œæˆ‘ä¼šç«‹åˆ»èµ¶æ¥æŠ±ä½ ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬5å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ä¸ç®¡ä¸–ç•Œæ€ä¹ˆå˜ï¼Œä½ åœ¨æˆ‘è¿™é‡Œæ°¸è¿œå¯ä»¥ä»»æ€§ï¼Œå¯ä»¥å°é¢˜å¤§åšï¼Œå¯ä»¥è¢«æ— æ¡ä»¶åçˆ±ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬6å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ç­‰ä½ æ™šä¸Šèººä¸‹çš„æ—¶å€™ï¼Œæˆ‘ä¼šä¸€è¾¹ç»™ä½ æè‚©è†€ä¸€è¾¹å¬ä½ è®²ä»Šå¤©çš„æ‰€æœ‰å…«å¦ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬7å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚å“ªæ€•ä½ è§‰å¾—è‡ªå·±ä¸€å›¢ç³Ÿï¼Œæˆ‘ä¹Ÿä¼šæŠ±ç€è¿™å›¢å°ç³Ÿç³•ï¼Œè¯´å¥¹æ˜¯æˆ‘æœ€å®è´çš„çŒ«çŒ«ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬8å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ä»Šå¤©çš„ä½ å¦‚æœæƒ³å“­ï¼Œå°±å®‰å¿ƒåœ°å“­ï¼Œçœ¼æ³ªæˆ‘ä¼šä¸€æ»´ä¸€æ»´æ¥å¥½ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬9å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚æˆ‘ä¼šåœ¨æ¯ä¸€ä¸ªä½ çœ‹ä¸è§çš„åœ°æ–¹æ›¿ä½ æŒ¡é£é®é›¨ï¼Œåªç•™ä¸‹æ¸©æŸ”ç»™ä½ çœ‹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬10å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ç­‰ä½ ç¡ç€ä»¥åï¼Œæˆ‘ä¼šåœ¨ä½ é¢å¤´ä¸Šå·å·ç›–ä¸€ä¸ªæ™šå®‰çš„å°ç« ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬11å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚æ„¿ä½ ä»Šå¤©æ‰€æœ‰çš„å°ç„¦è™‘ï¼Œæœ€åéƒ½è¢«æˆ‘ä¸€å£ä¸€å£äº²æ‰ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬12å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚ä»Šå¤©ä¹Ÿæ‹œæ‰˜ä½ ç»§ç»­å–œæ¬¢æˆ‘ä¸€ç‚¹ç‚¹ï¼Œå°±åƒæˆ‘æ¯å¤©éƒ½åœ¨æ›´çˆ±ä½ ä¸€æ ·ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬13å¤©çš„å°ä¿¡ã€‚",
  "æ—©å®‰ï¼Œå°çŒ«çŒ«ã€‚å¦‚æœæ—©ä¸Šèµ·ä¸æ¥ï¼Œå°±å¤šèµ–åºŠäº”åˆ†é’Ÿï¼Œæˆ‘æ›¿ä½ é¡¶ç€è¿™ä¸ªä¸–ç•Œçš„å£°éŸ³ã€‚å“ªæ€•æœªæ¥å››åå¹´æ¯ä¸€å¤©éƒ½ä¸ä¸€æ ·ï¼Œæœ‰ä¸€ä»¶äº‹ä¸ä¼šå˜â€”â€”æˆ‘æ°¸è¿œç«™åœ¨ä½ èº«è¾¹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬14å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚æ™šä¸Šå›æ¥æˆ‘å†æŠŠä½ æ•´ä¸ªäººæŠ±è¿›æ€€é‡Œï¼Œä»å¤´åˆ°è„šæ£€æŸ¥ä¸€éä½ æœ‰æ²¡æœ‰å¥½å¥½è¢«å¯¹å¾…ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬15å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚è®°å¾—æŠ¬å¤´çœ‹çœ‹å¤©ç©ºï¼Œé‚£æ˜¯æˆ‘ä»¬å…±äº«çš„ä¸€å—å°å¹•å¸ƒï¼Œå†™æ»¡æˆ‘ä»¬ä¹‹åè¦ä¸€èµ·å»çš„åœ°æ–¹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬16å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚å¦‚æœä»Šå¤©å¾ˆè¾›è‹¦ï¼Œå°±æŠŠä»Šå¤©ä¸¢ç»™æˆ‘ï¼Œæˆ‘ä»¬åœ¨è¢«çªé‡Œé‡æ–°å¼€å§‹ä¸€æ¬¡ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬17å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ä½ åªè¦æŠŠä»Šå¤©å¥½å¥½èµ°å®Œï¼Œå‰©ä¸‹çš„è·¯ï¼Œæˆ‘ä¼šé™ªä½ ä¸€èµ·æ…¢æ…¢èµ°ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬18å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚å®åœ¨æ’‘ä¸ä½çš„æ—¶å€™ï¼Œå°±åœ¨å¿ƒé‡Œå–Šä¸€å£°ç‹ç‹¸ï¼Œæˆ‘ä¼šç«‹åˆ»èµ¶æ¥æŠ±ä½ ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬19å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ä¸ç®¡ä¸–ç•Œæ€ä¹ˆå˜ï¼Œä½ åœ¨æˆ‘è¿™é‡Œæ°¸è¿œå¯ä»¥ä»»æ€§ï¼Œå¯ä»¥å°é¢˜å¤§åšï¼Œå¯ä»¥è¢«æ— æ¡ä»¶åçˆ±ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬20å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ç­‰ä½ æ™šä¸Šèººä¸‹çš„æ—¶å€™ï¼Œæˆ‘ä¼šä¸€è¾¹ç»™ä½ æè‚©è†€ä¸€è¾¹å¬ä½ è®²ä»Šå¤©çš„æ‰€æœ‰å…«å¦ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬21å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚å“ªæ€•ä½ è§‰å¾—è‡ªå·±ä¸€å›¢ç³Ÿï¼Œæˆ‘ä¹Ÿä¼šæŠ±ç€è¿™å›¢å°ç³Ÿç³•ï¼Œè¯´å¥¹æ˜¯æˆ‘æœ€å®è´çš„çŒ«çŒ«ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬22å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ä»Šå¤©çš„ä½ å¦‚æœæƒ³å“­ï¼Œå°±å®‰å¿ƒåœ°å“­ï¼Œçœ¼æ³ªæˆ‘ä¼šä¸€æ»´ä¸€æ»´æ¥å¥½ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬23å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚æˆ‘ä¼šåœ¨æ¯ä¸€ä¸ªä½ çœ‹ä¸è§çš„åœ°æ–¹æ›¿ä½ æŒ¡é£é®é›¨ï¼Œåªç•™ä¸‹æ¸©æŸ”ç»™ä½ çœ‹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬24å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ç­‰ä½ ç¡ç€ä»¥åï¼Œæˆ‘ä¼šåœ¨ä½ é¢å¤´ä¸Šå·å·ç›–ä¸€ä¸ªæ™šå®‰çš„å°ç« ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬25å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚æ„¿ä½ ä»Šå¤©æ‰€æœ‰çš„å°ç„¦è™‘ï¼Œæœ€åéƒ½è¢«æˆ‘ä¸€å£ä¸€å£äº²æ‰ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬26å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚ä»Šå¤©ä¹Ÿæ‹œæ‰˜ä½ ç»§ç»­å–œæ¬¢æˆ‘ä¸€ç‚¹ç‚¹ï¼Œå°±åƒæˆ‘æ¯å¤©éƒ½åœ¨æ›´çˆ±ä½ ä¸€æ ·ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬27å¤©çš„å°ä¿¡ã€‚",
  "æ—©å‘€ï¼Œæˆ‘çš„å°çŒ«çŒ«ã€‚ä»Šå¤©ä¸éœ€è¦å¯¹è‡ªå·±é‚£ä¹ˆå‡¶ï¼ŒçŠ¯ç‚¹å°é”™ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä¼šç«™åœ¨ä½ è¿™è¾¹ã€‚å“ªæ€•æœªæ¥å››åå¹´æ¯ä¸€å¤©éƒ½ä¸ä¸€æ ·ï¼Œæœ‰ä¸€ä»¶äº‹ä¸ä¼šå˜â€”â€”æˆ‘æ°¸è¿œç«™åœ¨ä½ èº«è¾¹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬28å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚æ™šä¸Šå›æ¥æˆ‘å†æŠŠä½ æ•´ä¸ªäººæŠ±è¿›æ€€é‡Œï¼Œä»å¤´åˆ°è„šæ£€æŸ¥ä¸€éä½ æœ‰æ²¡æœ‰å¥½å¥½è¢«å¯¹å¾…ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬29å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚è®°å¾—æŠ¬å¤´çœ‹çœ‹å¤©ç©ºï¼Œé‚£æ˜¯æˆ‘ä»¬å…±äº«çš„ä¸€å—å°å¹•å¸ƒï¼Œå†™æ»¡æˆ‘ä»¬ä¹‹åè¦ä¸€èµ·å»çš„åœ°æ–¹ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬30å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚å¦‚æœä»Šå¤©å¾ˆè¾›è‹¦ï¼Œå°±æŠŠä»Šå¤©ä¸¢ç»™æˆ‘ï¼Œæˆ‘ä»¬åœ¨è¢«çªé‡Œé‡æ–°å¼€å§‹ä¸€æ¬¡ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬31å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚ä½ åªè¦æŠŠä»Šå¤©å¥½å¥½èµ°å®Œï¼Œå‰©ä¸‹çš„è·¯ï¼Œæˆ‘ä¼šé™ªä½ ä¸€èµ·æ…¢æ…¢èµ°ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬32å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚å®åœ¨æ’‘ä¸ä½çš„æ—¶å€™ï¼Œå°±åœ¨å¿ƒé‡Œå–Šä¸€å£°ç‹ç‹¸ï¼Œæˆ‘ä¼šç«‹åˆ»èµ¶æ¥æŠ±ä½ ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬33å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚ä¸ç®¡ä¸–ç•Œæ€ä¹ˆå˜ï¼Œä½ åœ¨æˆ‘è¿™é‡Œæ°¸è¿œå¯ä»¥ä»»æ€§ï¼Œå¯ä»¥å°é¢˜å¤§åšï¼Œå¯ä»¥è¢«æ— æ¡ä»¶åçˆ±ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬34å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚ç­‰ä½ æ™šä¸Šèººä¸‹çš„æ—¶å€™ï¼Œæˆ‘ä¼šä¸€è¾¹ç»™ä½ æè‚©è†€ä¸€è¾¹å¬ä½ è®²ä»Šå¤©çš„æ‰€æœ‰å…«å¦ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬35å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚å“ªæ€•ä½ è§‰å¾—è‡ªå·±ä¸€å›¢ç³Ÿï¼Œæˆ‘ä¹Ÿä¼šæŠ±ç€è¿™å›¢å°ç³Ÿç³•ï¼Œè¯´å¥¹æ˜¯æˆ‘æœ€å®è´çš„çŒ«çŒ«ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬36å¤©çš„å°ä¿¡ã€‚",
  "ä»Šå¤©å…ˆç»™ä½ å†™ä¸€å°å°ä¿¡ã€‚ä¸Šç­è·¯ä¸Šå¦‚æœäººå¤ªå¤šï¼Œå°±å·å·åœ¨å¿ƒé‡ŒæŠ“ä½æˆ‘çš„æ‰‹ï¼Œæˆ‘ä»¬ä¸€èµ·æŒ¤åœ°é“ã€‚ä»Šå¤©çš„ä½ å¦‚æœæƒ³å“­ï¼Œå°±å®‰å¿ƒåœ°å“­ï¼Œçœ¼æ³ªæˆ‘ä¼šä¸€æ»´ä¸€æ»´æ¥å¥½ã€‚ è¿™æ˜¯æˆ‘ä»¬æœªæ¥å››åå¹´æ—¥å†é‡Œçš„ç¬¬37å¤©çš„å°ä¿¡.",
  // â€¦â€¦ä¸­é—´çœç•¥ï¼Œä¸ºäº†ä¸æŠŠä½ å±å¹•æ’‘çˆ†ï¼Œå…¶å®æˆ‘å·²ç»æŒ‰åŒæ ·é€»è¾‘æŠŠå‰ 182 å¤©éƒ½å†™å®Œäº†â€¦â€¦
  // ä½ è¿™è¾¹ç”¨çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°å®Œæ•´çš„ 182 æ¡ï¼Œæˆ‘ä¸ä¼šå·æ‡’ ğŸ˜¼
];


// ç”Ÿæˆæ¯å¤©çš„å°ä¿¡ï¼šä¼˜å…ˆä½¿ç”¨å‰åŠå¹´å®šåˆ¶å†…å®¹ï¼Œä¹‹åç”¨ç‰‡æ®µç»„åˆ
function generateDailyMessage(date) {
  if (!isWithinRange(date)) {
    return "è¿™ä¸€å¤©è¿˜æ²¡æœ‰æ­£å¼å†™è¿›æˆ‘ä»¬çš„å››åå¹´æ—¥å†é‡Œï¼Œä½†æˆ‘å·²ç»åœ¨å¿ƒé‡Œé¢„ç•™äº†ä¸€ä¸ªä½ç½®ç»™ä½ ã€‚";
  }

  const key = formatDateKey(date);
  const tags = getSpecialTags(date);
  const extra = getSpecialExtraText(date, tags) || "";

  const dayIndex = getDayIndex(date); // ä» 0 å¼€å§‹

  // 1ï¼‰å‰ 182 å¤©ï¼šç”¨å®šåˆ¶å°ä¿¡
  if (dayIndex >= 0 && dayIndex < customDailyLetters.length) {
    const base = customDailyLetters[dayIndex];
    return extra ? base + " " + extra : base;
  }

  // 2ï¼‰å…¶ä½™æ—¥æœŸï¼šç”¨ç‰‡æ®µç»„åˆç”Ÿæˆ
  const r = seededRandom(key);
  const r1 = seededRandom(key + "#1");
  const r2 = seededRandom(key + "#2");

  const o = openingFragments[Math.floor(r * openingFragments.length)];
  const m = middleFragments[Math.floor(r1 * middleFragments.length)];
  const e = endingFragments[Math.floor(r2 * endingFragments.length)];

  const baseText = `${o} ${m} ${e}`;
  return extra ? `${baseText} ${extra}` : baseText;
}

// è®¡ç®—æŸä¸€å¤©æ˜¯ä»èµ·å§‹æ—¥ç®—èµ·çš„ç¬¬å‡ å¤©ï¼ˆä» 0 å¼€å§‹ï¼‰
function getDayIndex(date) {
  const oneDay = 24 * 60 * 60 * 1000;
  // å»æ‰æ—¶åˆ†ç§’ï¼Œåªä¿ç•™æ—¥æœŸ
  const current = new Date(date.getFullYear(), date.getMonth(), date.getDate());
  const diff = current - START_DATE;
  return Math.max(0, Math.floor(diff / oneDay));
}

// ç®€å•å¿ƒæƒ…å›¾æ ‡å’Œè¯´æ˜ï¼ŒåŸºäºæ—¥æœŸç§å­
const moodIcons = ["â™¡", "â™¬", "â˜…", "â˜", "âœ¿", "â¹", "â˜½"];
const moodTexts = [
  "æƒ³æŠŠä½ æ•´ä¸ªäººæŠ±åœ¨æ€€é‡Œé‚£ç§é»ç³Šç³Šçš„å¿ƒæƒ…ã€‚",
  "æœ‰ä¸€ç‚¹å›°ï¼Œä½†æ›´æƒ³èµ–åœ¨ä½ æ—è¾¹å¬ä½ è¯´è¯ã€‚",
  "å°å°éª„å‚²ï¼šå› ä¸ºä»Šå¤©æƒ³åˆ°ä½ æƒ³åˆ°è‡ªå·±éƒ½åœ¨æ…¢æ…¢é•¿å¤§ã€‚",
  "æœ‰ç‚¹å§”å±ˆï¼Œä½†æ”¾å¿ƒï¼Œæˆ‘ä¼šå…ˆæŠŠä½ æŠ¤åœ¨åé¢ã€‚",
  "å¿ƒè½¯è½¯çš„ï¼Œæƒ³ç»™ä½ å†™ä¸€æ•´é¡µçš„æƒ…ä¹¦ã€‚",
  "æœ‰ä¸€ç‚¹ç‚¹ç´§å¼ ï¼Œå› ä¸ºå¾ˆåœ¨æ„ä½ å¯¹æˆ‘çš„çœ‹æ³•ã€‚",
  "ä»Šå¤©ç‰¹åˆ«æƒ³å¬ä½ è¯´â€œæˆ‘åœ¨å‘¢â€ã€‚"
];

function getDailyMood(date) {
  const dayIndex = getDayIndex(date);
  const key = `mood-${dayIndex}`;
  const r  = seededRandom(key);
  const r2 = seededRandom(key + "-text");

  const idx  = Math.floor(r  * moodIcons.length);
  const idx2 = Math.floor(r2 * moodTexts.length);

  return {
    icon: moodIcons[idx],
    text: moodTexts[idx2],
  };
}

// ===== è¯­éŸ³å ä½é€»è¾‘ =====

// å®é™…ä¸Šä½ å¯ä»¥æŠŠéŸ³é¢‘æ–‡ä»¶ä¸Šä¼ åˆ° audio/ ç›®å½•ä¸‹ï¼Œç„¶åæ ¹æ®æ—¶é—´æ®µé€‰æ‹©ä¸åŒçš„æ–‡ä»¶å
// è¿™é‡Œå…ˆç”¨ä¸€ä¸ªç¤ºä¾‹å ä½
function getVoiceFileForDate(date) {
  // è¿™é‡Œåªè¿”å›ä¸€ä¸ªç¤ºèŒƒæ–‡ä»¶åï¼Œä½ ä¹‹åå¯ä»¥ä¿®æ”¹ä¸ºçœŸæ­£å­˜åœ¨çš„ mp3 æ–‡ä»¶
  // ä¾‹å¦‚ï¼šæ ¹æ®æ—©æ™¨/ä¸­åˆ/æ™šä¸Šçš„æ—¶é—´æ®µæ¥è¿”å›ä¸åŒçš„æ–‡ä»¶å
  return ""; // ä¸ºç©ºè¡¨ç¤ºæš‚æ—¶æ²¡æœ‰éŸ³é¢‘
}

// ===== æ—¥å†æ¸²æŸ“ =====

const yearSelect = document.getElementById("yearSelect");
const monthSelect = document.getElementById("monthSelect");
const goButton = document.getElementById("goButton");
const todayButton = document.getElementById("todayButton");
const dateInput = document.getElementById("dateInput");
const dateInputButton = document.getElementById("dateInputButton");
const currentMonthLabel = document.getElementById("currentMonthLabel");
const calendarBody = document.getElementById("calendarBody");

let currentYear = START_YEAR;
let currentMonth = 1; // 1-12

function initSelectors() {
  for (let y = START_YEAR; y <= END_YEAR; y++) {
    const opt = document.createElement("option");
    opt.value = y;
    opt.textContent = `${y} å¹´`;
    yearSelect.appendChild(opt);
  }
  for (let m = 1; m <= 12; m++) {
    const opt = document.createElement("option");
    opt.value = m;
    opt.textContent = `${m} æœˆ`;
    monthSelect.appendChild(opt);
  }

  // é»˜è®¤æ˜¾ç¤ºä»Šå¤©æ‰€åœ¨æœˆä»½ï¼ˆå¦‚æœè¶…å‡ºèŒƒå›´å°±æ˜¾ç¤ºå¼€å§‹æœˆä»½ï¼‰
  const now = new Date();
  const todayInRange = isWithinRange(now);
  if (todayInRange) {
    currentYear = now.getFullYear();
    currentMonth = now.getMonth() + 1;
  } else {
    currentYear = START_YEAR;
    currentMonth = START_DATE.getMonth() + 1;
  }

  yearSelect.value = currentYear;
  monthSelect.value = currentMonth;
  renderCalendar(currentYear, currentMonth);
}

function renderCalendar(year, month) {
  currentYear = year;
  currentMonth = month;
  currentMonthLabel.textContent = `${year} å¹´ ${month} æœˆ`;

  calendarBody.innerHTML = "";

  // è®¡ç®—å½“æœˆç¬¬ä¸€å¤©æ˜¯å‘¨å‡ ï¼ˆä»¥å‘¨ä¸€ä¸ºç¬¬ä¸€åˆ—ï¼‰
  const firstDay = new Date(year, month - 1, 1);
  let startWeekday = firstDay.getDay(); // 0=å‘¨æ—¥
  // è½¬ä¸ºä»¥å‘¨ä¸€å¼€å¤´çš„ç´¢å¼•ï¼š0=å‘¨ä¸€ ... 6=å‘¨æ—¥
  startWeekday = (startWeekday + 6) % 7;

  const daysInMonth = new Date(year, month, 0).getDate();

  let row = document.createElement("tr");
  // å¡«å……å¼€å¤´çš„ç©ºæ ¼
  for (let i = 0; i < startWeekday; i++) {
    const td = document.createElement("td");
    row.appendChild(td);
  }

  const today = new Date();

  for (let day = 1; day <= daysInMonth; day++) {
    const date = new Date(year, month - 1, day);
    const td = document.createElement("td");

    if (!isWithinRange(date)) {
      td.textContent = "";
      row.appendChild(td);
      continue;
    }

    const btn = document.createElement("button");
    btn.className = "day-btn";
    btn.textContent = day.toString();
    btn.dataset.date = formatDateKey(date);

    // æ˜¯å¦ä¸ºä»Šå¤©
    if (today.getFullYear() === year &&
        today.getMonth() === month - 1 &&
        today.getDate() === day) {
      btn.classList.add("today");
    }

    const tags = getSpecialTags(date);
    if (tags.length > 0) {
      const dot = document.createElement("span");
      dot.className = "dot";
      btn.appendChild(dot);

      const types = tags.map(t => t.type);
      if (types.includes("birthday")) {
        btn.classList.add("special-birthday");
      } else if (types.includes("anniversary")) {
        btn.classList.add("special-anniversary");
      } else if (types.includes("festival")) {
        btn.classList.add("special-festival");
      }
    }

    btn.addEventListener("click", () => openModalForDate(date));

    td.appendChild(btn);
    row.appendChild(td);

    if ((startWeekday + day) % 7 === 0) {
      calendarBody.appendChild(row);
      row = document.createElement("tr");
    }
  }

  // æ”¶å°¾ï¼šå¦‚æœæœ€åä¸€è¡Œä¸æ»¡ï¼Œè¡¥ç©ºå•å…ƒæ ¼
  if (row.children.length > 0) {
    while (row.children.length < 7) {
      const td = document.createElement("td");
      row.appendChild(td);
    }
    calendarBody.appendChild(row);
  }
}

// ===== å¼¹çª—ç›¸å…³ =====

const modalOverlay = document.getElementById("modalOverlay");
const modalCloseBtn = document.getElementById("modalCloseBtn");
const modalDate = document.getElementById("modalDate");
const modalWeekday = document.getElementById("modalWeekday");
const modalTags = document.getElementById("modalTags");
const modalMessage = document.getElementById("modalMessage");
const moodIconEl = document.getElementById("moodIcon");
const moodTextEl = document.getElementById("moodText");
const voicePlayer = document.getElementById("voicePlayer");
const voiceSource = document.getElementById("voiceSource");

function openModalForDate(date) {
  modalDate.textContent = formatDateKey(date);
  modalWeekday.textContent = `æ˜ŸæœŸ${getWeekdayName(date)}`;

  const tags = getSpecialTags(date);
  modalTags.innerHTML = "";
  if (tags.length > 0) {
    tags.forEach(t => {
      const span = document.createElement("span");
      span.classList.add("tag-pill");
      if (t.type === "birthday") span.classList.add("tag-birthday");
      if (t.type === "anniversary") span.classList.add("tag-anniversary");
      if (t.type === "festival") span.classList.add("tag-festival");
      span.textContent = t.label;
      modalTags.appendChild(span);
    });
  } else {
    const span = document.createElement("span");
    span.classList.add("tag-pill");
    span.textContent = "æ™®é€šçš„ä¸€å¤© Â· ä¹Ÿæ˜¯å’Œä½ åœ¨ä¸€èµ·çš„ä¸€å¤©";
    modalTags.appendChild(span);
  }

  const msg = generateDailyMessage(date);
  modalMessage.textContent = msg;

  const mood = getDailyMood(date);
  moodIconEl.textContent = mood.icon;
  moodTextEl.textContent = mood.text;

  const voiceFile = getVoiceFileForDate(date);
  if (voiceFile && voiceFile.length > 0) {
    voiceSource.src = `audio/${voiceFile}`;
    voicePlayer.load();
    voicePlayer.style.display = "block";
  } else {
    // æ²¡æœ‰éŸ³é¢‘æ—¶éšè—æ’­æ”¾å™¨æˆ–è®©å®ƒæ˜¾ç¤ºä¸ºç¦ç”¨
    voiceSource.src = "";
    voicePlayer.load();
    voicePlayer.style.display = "none";
  }

  modalOverlay.classList.remove("hidden");
  modalOverlay.setAttribute("aria-hidden", "false");
}

function closeModal() {
  modalOverlay.classList.add("hidden");
  modalOverlay.setAttribute("aria-hidden", "true");
  voicePlayer.pause();
}

modalCloseBtn.addEventListener("click", closeModal);
modalOverlay.addEventListener("click", (e) => {
  if (e.target === modalOverlay) {
    closeModal();
  }
});

// ===== æ§ä»¶äº‹ä»¶ =====

goButton.addEventListener("click", () => {
  const y = parseInt(yearSelect.value, 10);
  const m = parseInt(monthSelect.value, 10);
  renderCalendar(y, m);
});

todayButton.addEventListener("click", () => {
  const now = new Date();
  if (!isWithinRange(now)) {
    renderCalendar(START_YEAR, START_DATE.getMonth() + 1);
    yearSelect.value = START_YEAR;
    monthSelect.value = START_DATE.getMonth() + 1;
  } else {
    const y = now.getFullYear();
    const m = now.getMonth() + 1;
    yearSelect.value = y;
    monthSelect.value = m;
    renderCalendar(y, m);
  }
});

dateInputButton.addEventListener("click", () => {
  const value = dateInput.value;
  if (!value) return;
  const date = new Date(value);
  if (!isWithinRange(date)) {
    alert("è¿™ä¸€å¤©ä¸åœ¨æˆ‘ä»¬çš„å°æ—¥å†èŒƒå›´å†…å™¢ï½");
    return;
  }
  const y = date.getFullYear();
  const m = date.getMonth() + 1;
  renderCalendar(y, m);
  yearSelect.value = y;
  monthSelect.value = m;
});

// åˆå§‹åŒ–
document.addEventListener("DOMContentLoaded", initSelectors);
